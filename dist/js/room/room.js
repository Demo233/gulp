"use strict";var bimRoom={modelurl:null,base64url:null,modelId:null,treeNode:null,doRoom:function(){bimRoom.modelurl=BimBdip.view_modelUrl,bimRoom.modelId=BimBdip.lvmid,bimRoom.base64url=$.base64.btoa(bimRoom.modelurl),$.ajax({type:"GET",url:publicJS.tomcat_url+"/roomisOpen.action?url="+bimRoom.modelurl,dataType:"json",async:"false",success:function(a){if(200==a.code){var m=!0;a.data.roomName?zdconfirm(bdip4dLang[langType][-15767],bdip4dLang[langType][-15425]+a.data.roomName,function(o){o&&(window.open(publicJS.tomcat_url+"/joinRoom.action?param="+bimRoom.base64url+"&treeId="+bimRoom.modelId+"&room="+a.data.id+"&roomName="+a.data.roomName,"_blank"),m=!1)}):zdconfirm(bdip4dLang[langType][-15767],bdip4dLang[langType][-15426]+a.data.id,function(o){o&&m&&window.open(publicJS.tomcat_url+"/joinRoom.action?param="+bimRoom.base64url+"&treeId="+bimRoom.modelId+"&room="+a.data.id+"&roomName="+a.data.roomName,"_blank")})}else openconfirm(bdip4dLang[langType][-15427],"",function(o){if(o){var a=$("#mb_name").val();null!=a&&""!=a?$.ajax({type:"GET",url:publicJS.tomcat_url+"/createRoom.action?url="+bimRoom.modelurl+"&roomName="+a+"&userid="+BimBdip.currentUserid+"&username="+BimBdip.currentUsername+"&treeId="+bimRoom.modelId,dataType:"json",async:"false",success:function(o){200==o.code?window.open(publicJS.tomcat_url+"/joinRoom.action?param="+bimRoom.base64url+"&treeId="+bimRoom.modelId+"&room="+o.data.id+"&roomName="+a,"_blank"):Dialog.alert(bdip4dLang[langType][-15428])},error:function(o){Dialog.alert(bdip4dLang[langType][-15428])}}):Dialog.alert(bdip4dLang[langType][-15429])}})},error:function(o){}})}};